<html>

<head>
    <link href="styles/style.css" rel="stylesheet">
    <title>ICG WebGL &mdash; HW1</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

    <script type="text/javascript" src="./js/glMatrix-0.9.5.min.js"></script>
    <script type="text/javascript" src="./js/webgl-utils.js"></script>

    <script type="text/javascript" src="./src/shader.js"></script>

    <script type="text/javascript" src="./src/model.js"></script>

    <script type="text/javascript">

        // common variables
        var gl;

        var drawObject;

        function initGL(canvas) {
            try {
                gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
                gl.viewportWidth = canvas.width;
                gl.viewportHeight = canvas.height;
                if (!gl.getExtension('OES_standard_derivatives')) {
                    throw 'extension not support';
                }
            }
            catch (e) {
            }

            if (!gl) {
                alert("Could not initialize WebGL, sorry :-(");
            }
        }

        /*
            TODO HERE:
            add two or more objects showing on the canvas
            (it needs at least three objects showing at the same time)
        */
        function drawScene() {
            gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

            drawObject();
        }

        function tick() {
            requestAnimFrame(tick);
            drawScene();
        }

        function webGLStart() {
            var canvas = document.getElementById("ICG-canvas");
            initGL(canvas);

            drawObject = initModel(gl, "Teapot")

            gl.clearColor(0, 0, 0, 1);
            gl.enable(gl.DEPTH_TEST);

            tick();
        }

        function displayValue(val, elementId) {
            document.getElementById(elementId).innerHTML = val;
        }

    </script>
</head>

<body onload="webGLStart();">
    <canvas id="ICG-canvas" style="border: none;" width="1280" height="720"></canvas>
    <br />
    <select id="shaderType">
        <option value="flat">flat</option>
        <option value="other" selected="selected">other</option>
        <option value="gouraud">gouraud</option>
        <option value="phong">phong</option>
    </select>

    <select id="modelSelect">
        <option value="Teapot" selected="selected">Teapot</option>
        <option value="Plant">Plant</option>
        <option value="Easter">Easter</option>
        <option value="Longteap">Longteap</option>
        <option value="Kangaroo">Kangaroo</option>
        <option value="Csie">Csie</option>
        <option value="Tomcat">Tomcat</option>
        <option value="Car_road">Car_road</option>
        <option value="Church_s">Church_s</option>
        <option value="Mercedes">Mercedes</option>
    </select>

    <fieldset class="column-group">
        <form class="pure-form-aligned">
            <legend>Translate</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="translateX" class="pure-range"> X </label>
                    <input type="range" id="translateX" value="0" min="-30" max="30" step="0.01"
                        oninput="displayValue(this.value, 'translateX-val');">
                    <span id="translateX-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="translateY" class="pure-range"> Y </label>
                    <input type="range" id="translateY" value="0" min="-30" max="30" step="0.01"
                        oninput="displayValue(this.value, 'translateY-val');">
                    <span id="translateY-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="translateZ" class="pure-range"> Z </label>
                    <input type="range" id="translateZ" value="-100" min="-100" max="10" step="0.01"
                        oninput="displayValue(this.value, 'translateZ-val');">
                    <span id="translateZ-val"></span>
                </div>
            </fieldset>
        </form>

        <form class="pure-form-aligned">
            <legend>Scale</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="scaleX" class="pure-range"> X </label>
                    <input type="range" id="scaleX" value="1" min="0.1" max="5" step="0.01"
                        oninput="displayValue(this.value, 'scaleX-val');">
                    <span id="scaleX-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="scaleY" class="pure-range"> Y </label>
                    <input type="range" id="scaleY" value="1" min="0.1" max="5" step="0.01"
                        oninput="displayValue(this.value, 'scaleY-val');">
                    <span id="scaleY-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="scaleZ" class="pure-range"> Z </label>
                    <input type="range" id="scaleZ" value="1" min="0.1" max="5" step="0.01"
                        oninput="displayValue(this.value, 'scaleZ-val');">
                    <span id="scaleZ-val"></span>
                </div>
            </fieldset>
        </form>

        <form class="pure-form-aligned">
            <legend>Rotation</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="rotationX" class="pure-range"> X </label>
                    <input type="range" id="rotationX" value="0" min="-180" max="180" step="1"
                        oninput="displayValue(this.value, 'rotationX-val');">
                    <span id="rotationX-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="rotationY" class="pure-range"> Y </label>
                    <input type="range" id="rotationY" value="0" min="-180" max="180" step="1"
                        oninput="displayValue(this.value, 'rotationY-val');">
                    <span id="rotationY-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="rotationZ" class="pure-range"> Z </label>
                    <input type="range" id="rotationZ" value="0" min="-180" max="180" step="1"
                        oninput="displayValue(this.value, 'rotationZ-val');">
                    <span id="rotationZ-val"></span>
                </div>
            </fieldset>
        </form>
    </fieldset>



    <fieldset class="column-group">

        <form class="pure-form-aligned">
            <legend>Shininess</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="shininess" class="pure-range"> Shininess </label>
                    <input type="range" id="shininess" value="32.0" min="0" max="100" step="0.5"
                        oninput="displayValue(this.value, 'shininess-val');">
                    <span id="shininess-val"></span>
                </div>
            </fieldset>
        </form>

        <form class="pure-form-aligned">
            <legend>Point Lighting Location</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="pointLightingLocationX" class="pure-range">X </label>
                    <input type="range" id="pointLightingLocationX" value="-10.0" min="-100" max="100"
                        oninput="displayValue(this.value, 'pointLightingLocationX-val');">
                    <span id="pointLightingLocationX-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="pointLightingLocationY" class="pure-range">Y </label>
                    <input type="range" id="pointLightingLocationY" value="4.0" min="-100" max="100"
                        oninput="displayValue(this.value, 'pointLightingLocationY-val');">
                    <span id="pointLightingLocationY-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="pointLightingLocationZ" class="pure-range">Z </label>
                    <input type="range" id="pointLightingLocationZ" value="-20.0" min="-100" max="100"
                        oninput="displayValue(this.value, 'pointLightingLocationZ-val');">
                    <span id="pointLightingLocationZ-val"></span>
                </div>
            </fieldset>
        </form>

        <form class="pure-form-aligned">
            <legend>Specular Color</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="specularR" class="pure-range"> R </label>
                    <input type="range" id="specularR" value="0.8" min="0" max="1" step="0.01"
                        oninput="displayValue(this.value, 'specularR-val');">
                    <span id="specularR-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="specularG" class="pure-range"> G </label>
                    <input type="range" id="specularG" value="0.8" min="0" max="1" step="0.01"
                        oninput="displayValue(this.value, 'specularG-val');">
                    <span id="specularG-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="specularB" class="pure-range"> B </label>
                    <input type="range" id="specularB" value="0.8" min="0" max="1" step="0.01"
                        oninput="displayValue(this.value, 'specularB-val');">
                    <span id="specularB-val"></span>
                </div>
            </fieldset>
        </form>
        <form class="pure-form-aligned">
            <legend>Diffuse Color</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="diffuseR" class="pure-range"> R </label>
                    <input type="range" id="diffuseR" value="0.8" min="0" max="1" step="0.01">
                    <span id="diffuseR-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="diffuseG" class="pure-range"> G </label>
                    <input type="range" id="diffuseG" value="0.8" min="0" max="1" step="0.01">
                    <span id="diffuseG-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="diffuseB" class="pure-range"> B </label>
                    <input type="range" id="diffuseB" value="0.8" min="0" max="1" step="0.01">
                    <span id="diffuseB-val"></span>
                </div>
            </fieldset>
        </form>
        <form class="pure-form-aligned">
            <legend>Ambient Light Color</legend>
            <fieldset>
                <div class="pure-control-group">
                    <label for="ambientR" class="pure-range"> R </label>
                    <input type="range" id="ambientR" value="0.2" min="0" max="1" step="0.01">
                    <span id="ambientR-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="ambientG" class="pure-range"> G </label>
                    <input type="range" id="ambientG" value="0.2" min="0" max="1" step="0.01">
                    <span id="ambientG-val"></span>
                </div>
                <div class="pure-control-group">
                    <label for="ambientB" class="pure-range"> B </label>
                    <input type="range" id="ambientB" value="0.2" min="0" max="1" step="0.01">
                    <span id="ambientB-val"></span>
                </div>
            </fieldset>
        </form>
    </fieldset>



</body>

</html>
